version: '3.8'

services:
  ams:
    image: ccr.ccs.tencentyun.com/file_hub_images/ams:latest
    container_name: ams
    restart: unless-stopped
    ports:
      - "8001:8001"
    environment:
      - DB_HOST=file_hub_mysql
      - DB_PORT=3306
      - DB_USER=file_hub_user
      - DB_PASSWORD=file_hub_password
      - DB_NAME=file_hub
      - LLM_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
      - LLM_API_KEY=f0fa1187-d008-425a-8f62-b3b3e40f404d
      - LLM_MODEL=deepseek-v3-1-250821
      - FLASK_SECRET_KEY=ams-secret-key-2024-production-secure
    networks:
      - union_network

networks:
  union_network:
    external: true